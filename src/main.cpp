#include <iostream>
#include <fstream>
#include <sstream>
#include <vector>
#include "Lexer.h"
/*
* 02-18-2026
 ___  _________  ________                                                 
|\  \|\___   ___\\   ____\                                                
\ \  \|___ \  \_\ \  \___|_                                               
 \ \  \   \ \  \ \ \_____  \                                              
  \ \  \   \ \  \ \|____|\  \                                             
   \ \__\   \ \__\  ____\_\  \                                            
    \|__|    \|__| |\_________\                                           
                   \|_________|                                           
                                                                          
                                                                          
 ________ ___       ___  ___     ___    ___ ___  ___  ___  ___  ___       
|\  _____\\  \     |\  \|\  \   |\  \  /  /|\  \|\  \|\  \|\  \|\  \      
\ \  \__/\ \  \    \ \  \\\  \  \ \  \/  / | \  \ \  \ \  \ \  \ \  \     
 \ \   __\\ \  \    \ \  \\\  \  \ \    / / \ \  \ \  \ \  \ \  \ \  \    
  \ \  \_| \ \  \____\ \  \\\  \  /     \/   \ \__\ \__\ \__\ \__\ \__\   
   \ \__\   \ \_______\ \_______\/  /\   \    \|__|\|__|\|__|\|__|\|__|   
    \|__|    \|_______|\|_______/__/ /\ __\       ___  ___  ___  ___  ___ 
                                |__|/ \|__|      |\__\|\__\|\__\|\__\|\__\
                                                 \|__|\|__|\|__|\|__|\|__|
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣮⡾⣫⠛⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡤⡄⡄⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣮⡿⠋⡌⢁⡀⠼⠖⠒⠒⠒⠒⠂⠢⠤⠄⠄⠀⠀⠀⠄⠄⣀⡀⠀⠀⠀⠀⠀⠀⠀⡇⠇⡇⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⡴⠒⢶⣿⢟⠕⠜⠊⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠢⣄⠀⠀⠀⠀⠇⠀⡈⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⠋⢀⣴⠟⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠀⢸⢻⠖⠒⠒⠦⡀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢤⠣⣤⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡳⡀⠀⠀⢸⢸⡇⠀⠀⠀⠘⣆⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣼⠘⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣤⡀⠃⠹⡆⢰⢸⢸⠘⠀⠀⠀⠀⠘⡄⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡄⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⡗⣄⡄⣇⢺⢺⢸⠳⣄⠀⠀⠀⠀⢹⡀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⠋⠀⠀⠄⠀⠀⠀⠀⠀⠀⠀⠀⢀⢳⠀⠀⠀⠀⠀⠀⠀⠀⣞⢏⠿⠶⡴⣏⠙⢧⠀⠀⠀⠀⠀⠘⣷⠿⢿⡾⣸⢸⡸⣿⣿⡄⠀⠀⠀⠀⢧⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⢇⠂⠀⠀⠀⠀⠀⠀⠀⣇⠀⠀⠀⣆⡀⣯⡡⠀⠀⠀⠀⠀⠀⣻⣥⣢⣴⣽⣟⣠⡼⠀⠀⠀⠀⠀⠀⡿⠒⢠⣸⢿⣿⣟⠉⠈⡇⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡮⢾⠀⠀⠀⠀⠀⠀⠀⡔⢹⡀⠀⠀⠹⢁⡇⠙⠶⣂⠀⠀⠠⡏⡂⠀⣡⣿⣿⣷⣞⢿⠷⡀⢠⡀⠀⠀⣿⠀⠈⢻⣾⣿⢿⠀⠀⡇⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣧⢺⢧⠀⠀⠀⡜⡄⡜⠀⠀⢃⠀⠀⢀⡞⣻⠀⠀⠈⠓⢄⡈⠳⠤⠾⡝⠛⠿⣨⣿⠃⢙⡟⠰⢣⠀⠀⠘⣟⣆⡜⡏⡟⣾⠀⠀⣇⡄⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢿⢸⣞⠦⡀⡰⠃⣷⠃⠀⠀⠘⢇⠀⠀⢧⣏⠀⠀⠀⠀⠀⠙⢦⡀⠀⢧⢀⠄⣸⠋⠉⠉⠀⠀⠈⠇⠀⢼⣿⡟⠃⠉⣤⡟⠁⠀⣿⡀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⢻⡏⡠⠟⡇⠀⠉⠀⠀⠄⡄⠘⡎⣆⠸⡸⡀⠀⠀⠀⠀⠀⠀⠈⠢⣌⠉⠛⠁⢀⣠⠄⡴⠛⡆⡀⢠⣿⠇⠀⢀⢼⣾⣿⡀⠀⢹⣇⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢨⡇⠀⣧⠓⠀⡇⠀⠀⣰⠢⠐⠹⣄⠘⢆⠀⠁⢣⡄⠀⠀⠀⠀⠀⠀⣠⠈⠙⢄⡀⠘⣧⣸⣶⣷⡏⣷⣾⣿⣆⡀⢸⣿⣿⠏⠀⠀⢸⣿⡀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡟⠀⢀⣯⡀⠀⣅⠀⠰⣯⣤⣀⠀⠈⠓⠄⠣⡀⠈⢳⡆⠀⢀⣀⣤⠞⠁⠀⠀⠀⠙⢾⡦⠽⣛⣋⡟⢉⣿⣿⠟⢠⢾⡿⢿⠀⠀⠀⢸⣿⡃⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⠁⠀⣼⣼⡦⠀⠘⠀⠀⡟⠈⠻⢷⣦⡀⠀⠀⠈⠲⢔⣣⠀⠀⠁⠀⠀⣀⣀⣤⣴⡆⠈⠙⣦⣌⠉⠀⣸⣿⣷⣶⠋⠀⠀⠘⣆⡀⠀⠈⣿⣧⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⣰⠃⠀⢰⣿⣿⣿⣄⠀⢃⠀⡇⠀⣄⣤⣿⠿⠒⠀⠀⠀⠀⠉⠀⠀⣤⣶⣿⠿⠛⠛⠉⠀⠀⢰⣿⣿⣿⡖⢸⣟⠉⠛⠀⢀⠀⠀⢺⡟⠀⠀⢿⣿⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⢠⠏⠀⢰⡟⣿⣿⣿⣿⣧⠸⡎⡇⣟⠋⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠻⢷⣶⣄⣀⠀⠀⣾⠛⢨⣿⡷⠼⠁⠀⠀⢠⣼⣤⢠⡿⠁⠀⠀⢸⣿⣇⠀⠀⠀
⠀⠀⠀⠀⠀⠀⢰⠏⠀⢀⣿⣿⣿⣿⣿⣿⣿⣧⡼⣿⠈⣷⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣨⣽⡛⠀⣸⣿⢢⣾⣿⣿⡆⠀⢀⣀⣱⢍⢷⠏⠁⠀⠀⠀⠘⣿⣿⠀⠀⠀
⠀⠀⠀⠀⠀⢠⡿⡄⢀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣼⣿⣍⠀⠀⠀⣤⣀⠀⣀⣀⢀⣀⡀⠀⠀⠀⢏⡀⣀⣽⢶⣿⣿⣿⣿⣿⠇⠀⠀⠘⠋⠉⡰⠊⠀⠀⠀⠀⠀⠀⢻⡝⣇⠀⠀
⠀⠀⠀⠀⢰⣯⣿⢀⣞⢁⣿⣿⣿⣿⣿⣿⣿⣿⣿⣽⣿⡏⣯⡖⢦⡼⠊⠉⠙⠛⣿⠛⠁⠀⠀⢀⢈⣉⡭⠖⢻⣿⣿⣟⣛⣷⣤⠤⠖⠘⠛⠋⠀⠀⠀⠀⠀⠀⠀⠀⢸⡴⢽⠀⠀
⠀⠀⠀⣰⣟⢯⢣⠿⠁⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⢸⢹⣕⣀⣼⠎⠀⢀⠀⠀⠀⠘⣷⠞⠻⢿⣿⣧⣄⠀⠀⠛⠋⠀⠉⠛⠺⠿⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡇⠀⡇⠀
⠀⠀⣰⠟⡻⢣⡯⠀⣼⣿⣿⣿⣿⣿⣿⣿⣿⡿⣥⣾⠊⢷⢛⣀⣼⠞⠿⠷⡆⠀⠠⣹⣿⣦⣼⣿⣿⡿⢿⠷⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣇⠀⢹⠀
⠀⠀⢃⡴⢡⢏⡀⠰⢟⣿⣿⣿⣿⣿⣿⡟⢼⣱⢳⣏⠀⣸⣾⡋⡁⠀⠀⠀⠉⣇⢠⣼⠟⠋⠻⣭⡻⣬⠋⠀⠘⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⠀⠘⡆
⠀⠀⡺⣡⡿⠁⠀⠀⣸⣿⣿⣿⣿⣿⣿⠇⣾⣾⣾⡝⠀⢸⣿⣿⣿⣶⣶⣶⣾⣿⠟⠀⠀⠀⠰⢻⢣⣿⣦⠀⠀⣼⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⠀⠀⡇
⠀⡀⢡⠟⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⡀⣿⣧⡳⣝⢀⣸⣿⣿⣿⣿⣿⣿⣿⣿⡆⠀⠀⠀⢠⢧⣿⣿⣿⣦⣤⣼⣏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡧⠀⠀⠀
⠈⠀⠿⠀⠀⠀⠀⠀⢹⣿⣿⣿⣿⠿⠉⠃⣻⡧⠙⢬⡻⠿⠿⣿⣷⣿⣿⡿⣿⢟⡹⢦⣠⠔⣋⠼⠸⣿⣿⣿⣿⣷⣾⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⠀⠀⠀
⠀⠈⠀⠀⠀⠀⠀⢀⣾⣿⣿⣿⡏⠀⠀⠀⢼⣳⡈⠙⠿⢁⣽⣿⣿⣿⠟⠁⠳⣜⡲⢚⠵⠊⠁⠀⠔⠹⠻⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡿⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠘⣿⣿⡿⠁⠀⠀⠀⠀⣾⢫⢧⣀⣬⠟⢋⣗⡶⠏⠹⢦⡀⢺⣿⠟⠒⠤⣀⠀⠀⢤⣤⣼⣿⠻⣽⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣇⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠁⠀⠀⠀⠀⠀⠀⣸⣿⣸⠀⡰⠋⠀⡜⢹⡇⣀⣰⠞⠁⣸⣏⠀⠀⠀⠀⠉⠒⠻⢿⣿⠿⠖⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⢿⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⣿⡇⡿⠋⠀⠀⣠⣜⣾⣏⣉⣿⣶⡾⢟⡋⠀⠀⠀⠀⠀⠀⠀⠈⠹⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣾⢺⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣹⡇⠷⣯⣷⢤⣿⣿⣽⣿⢿⣿⢿⠿⣻⣜⣧⡀⢀⣀⣠⣴⣶⣾⣿⣿⣿⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⠇⠀⠀⠀
*/
int main(int argc, char* argv[]) {

    if (argc < 2) {
        std::cerr << "Error: No input file provided." << std::endl;
        std::cerr << "Usage: flux <filename.flux>" << std::endl;
        return 1;
    }

    std::string filePath = argv[1];
    std::ifstream file(filePath);


    if (!file.is_open()) {
        std::cerr << "Error: Could not open file " << filePath << std::endl;
        return 1;
    }


    std::stringstream buffer;
    buffer << file.rdbuf();
    std::string sourceCode = buffer.str();

    std::cout << "--- Flux Compiler v0.1 ---" << std::endl;
    std::cout << "Reading: " << filePath << "\n" << std::endl;


    Lexer lexer(sourceCode);
    std::vector<SNX> tokens = lexer.tokenize();

    
    for (const auto& token : tokens) {

        std::cout << "Token Found: [Value: " << token.value << "]" << std::endl;
    }

    std::cout << "\nLexical Analysis Complete." << std::endl;

    return 0;
}
